# import "./types.jsligo" "Types"

type Storage = uint;
type Action = Types.Action;
type Return = [list<operation>, Storage];

const dest = "REPLACE_THIS_WITH_CONTRACT_ADDRESS" as address;

const main = (action: Action, storage: Storage): Return => {
  const counter =
    match (Tezos.get_contract_opt(dest), {
      Some: contract => contract,
      None: () => failwith("Contract not found.")
    });

  const op = Tezos.transaction(action, 0 as tez, counter);
  return [list([op]), store];
};
